{"version":3,"file":"index.js","sources":["../src/commonStyles.ts","../src/utils.ts","../src/CalendarEvent.tsx","../src/CalendarBody.tsx","../src/CalendarHeader.tsx","../src/Calendar.tsx"],"sourcesContent":["import { StyleSheet } from 'react-native'\n\nexport const MIN_HEIGHT = 1200\nexport const PRIMARY_COLOR = 'rgb(66, 133, 244)'\nexport const HOUR_GUIDE_WIDTH = 50\n\nexport const commonStyles = StyleSheet.create({\n  dateCell: {\n    borderWidth: 1,\n    borderColor: '#eee',\n    borderTopWidth: 0,\n    borderRightWidth: 0,\n  },\n  guideText: {\n    color: '#888',\n    fontSize: 11,\n    textAlign: 'center',\n  },\n  hourGuide: {\n    backgroundColor: '#fff',\n    zIndex: 1000,\n    width: HOUR_GUIDE_WIDTH,\n  },\n  eventCell: {\n    position: 'absolute' as const,\n    zIndex: 100,\n    width: '96%',\n    alignSelf: 'center' as const,\n    borderRadius: 3,\n    padding: 4,\n  },\n  eventTitle: {\n    color: '#fff',\n    fontSize: 12,\n  },\n})\n","import dayjs from 'dayjs'\nimport { DayJSConvertedEvent, Mode, WeekNum } from './interfaces'\n\nexport const DAY_MINUTES = 1440\n\nexport function getDatesInWeek(\n  date: Date | dayjs.Dayjs = new Date(),\n  weekStartsOn: WeekNum = 0,\n  locale = 'en',\n) {\n  const subject = dayjs(date)\n  const subjectDOW = subject.day()\n  const days = Array(7)\n    .fill(0)\n    .map((_, i) => {\n      return subject.add(i - subjectDOW + weekStartsOn, 'day').locale(locale)\n    })\n\n  return days\n}\n\nexport function getDatesInNextThreeDays(date: Date | dayjs.Dayjs = new Date(), locale = 'en') {\n  const subject = dayjs(date).locale(locale)\n  const days = Array(3)\n    .fill(0)\n    .map((_, i) => {\n      return subject.add(i, 'day')\n    })\n\n  return days\n}\n\nexport const hours = Array(24)\n  .fill(0)\n  .map((_, i) => i)\n\nexport function formatHour(hour: number) {\n  return `${hour}:00`\n}\n\nexport function isToday(date: dayjs.Dayjs) {\n  const today = dayjs()\n  return today.isSame(date, 'day')\n}\n\nexport function getRelativeTopInDay(date = dayjs()) {\n  return (100 * (date.hour() * 60 + date.minute())) / DAY_MINUTES\n}\n\nexport function todayInMinutes() {\n  const today = dayjs()\n  return today.diff(dayjs().startOf('day'), 'minute')\n}\n\nexport function modeToNum(mode: Mode) {\n  switch (mode) {\n    case '3days':\n      return 3\n    case 'week':\n      return 7\n    default:\n      throw new Error('undefined mode')\n  }\n}\n\nexport function formatStartEnd(event: DayJSConvertedEvent) {\n  return `${event.start.format('HH:mm')} - ${event.end.format('HH:mm')}`\n}\n\nexport function isAllDayEvent(event: DayJSConvertedEvent) {\n  return (\n    event.start.hour() === 0 &&\n    event.start.minute() === 0 &&\n    event.end.hour() === 0 &&\n    event.end.minute() === 0\n  )\n}\n","import dayjs from 'dayjs'\nimport * as React from 'react'\nimport { StyleSheet, Text, TouchableOpacity } from 'react-native'\nimport { commonStyles, PRIMARY_COLOR } from './commonStyles'\nimport { DayJSConvertedEvent, Event, EventCellStyle } from './interfaces'\nimport { DAY_MINUTES, formatStartEnd, getRelativeTopInDay } from './utils'\n\nfunction getEventCellPositionStyle({ end, start }: { end: dayjs.Dayjs; start: dayjs.Dayjs }) {\n  const relativeHeight = 100 * (1 / DAY_MINUTES) * end.diff(start, 'minute')\n  const relativeTop = getRelativeTopInDay(start)\n  return {\n    height: `${relativeHeight}%`,\n    top: `${relativeTop}%`,\n  }\n}\n\ninterface CalendarBodyProps<T> {\n  event: DayJSConvertedEvent\n  onPressEvent?: (event: Event<T>) => void\n  eventCellStyle?: EventCellStyle<T>\n  showTime: boolean\n}\n\nexport const CalendarEvent = React.memo(\n  ({ event, onPressEvent, eventCellStyle, showTime }: CalendarBodyProps<any>) => {\n    const getEventStyle = React.useMemo(\n      () => (typeof eventCellStyle === 'function' ? eventCellStyle : (_: any) => eventCellStyle),\n      [eventCellStyle],\n    )\n\n    const _onPress = React.useCallback(\n      (event: DayJSConvertedEvent) => {\n        onPressEvent && onPressEvent(event)\n      },\n      [event],\n    )\n    return (\n      <TouchableOpacity\n        delayPressIn={20}\n        key={event.start.toString()}\n        style={[\n          commonStyles.eventCell,\n          getEventCellPositionStyle(event),\n          getEventStyle(event),\n          event.widget ? { backgroundColor: 'transparent' } : { backgroundColor: PRIMARY_COLOR },\n        ]}\n        onPress={() => _onPress(event)}\n        disabled={!onPressEvent}\n      >\n        {event.end.diff(event.start, 'minute') < 32 && showTime ? (\n          <Text style={commonStyles.eventTitle}>\n            {event.title},<Text style={styles.eventTime}>{event.start.format('HH:mm')}</Text>\n          </Text>\n        ) : (\n          <>\n            {event.widget ? (\n              event.widget(event)\n            ) : (\n              <Text style={commonStyles.eventTitle}>{event.title}</Text>\n            )}\n            {showTime && !event.widget && (\n              <Text style={styles.eventTime}>{formatStartEnd(event)}</Text>\n            )}\n          </>\n        )}\n      </TouchableOpacity>\n    )\n  },\n)\n\nconst styles = StyleSheet.create({\n  eventTime: {\n    color: '#fff',\n    fontSize: 10,\n  },\n})\n","import dayjs from 'dayjs'\nimport * as React from 'react'\nimport {\n  LayoutRectangle,\n  PanResponder,\n  Platform,\n  ScrollView,\n  StyleSheet,\n  Text,\n  TouchableWithoutFeedback,\n  View,\n  ViewStyle,\n} from 'react-native'\nimport { CalendarEvent } from './CalendarEvent'\nimport { commonStyles } from './commonStyles'\nimport { DayJSConvertedEvent, Event, EventCellStyle, HorizontalDirection } from './interfaces'\nimport { formatHour, getRelativeTopInDay, hours, isToday } from './utils'\n\nconst SWIPE_THRESHOLD = 50\n\ninterface CalendarBodyProps<T> {\n  containerHeight: number\n  cellHeight: number\n  dateRange: dayjs.Dayjs[]\n  dayJsConvertedEvents: DayJSConvertedEvent[]\n  style: ViewStyle\n  onPressEvent?: (event: Event<T>) => void\n  onPressCell?: (date: Date) => void\n  eventCellStyle?: EventCellStyle<T>\n  scrollOffsetMinutes: number\n  showTime: boolean\n  scrollToNow?: boolean\n  overwriteCellHeight?: number\n  onSwipeHorizontal?: (d: HorizontalDirection) => void\n    zoom?:number\n}\n\ninterface WithCellHeight {\n  cellHeight: number\n  zoom?: number\n}\n\nconst HourGuideColumn = ({ cellHeight, hour, zoom }: WithCellHeight & { hour: number }) => (\n  <View style={{ height: zoom || cellHeight }}>\n    <Text style={commonStyles.guideText}>{formatHour(hour)}</Text>\n  </View>\n)\n\ninterface HourCellProps extends WithCellHeight {\n  onPress: (d: dayjs.Dayjs) => void\n  date: dayjs.Dayjs\n  hour: number\n    zoom?:number\n}\n\nfunction HourCell({ cellHeight, onPress, date, hour, zoom }: HourCellProps) {\n  return (\n    <TouchableWithoutFeedback onPress={() => onPress(date.hour(hour).minute(0))}>\n      <View style={[commonStyles.dateCell, { height: zoom || cellHeight }]} />\n    </TouchableWithoutFeedback>\n  )\n}\n\nexport const CalendarBody = React.memo(\n  ({\n    containerHeight,\n    cellHeight,\n    dateRange,\n    style = {},\n    onPressCell,\n    dayJsConvertedEvents,\n    onPressEvent,\n    eventCellStyle,\n    showTime,\n    scrollToNow,\n    scrollOffsetMinutes,\n    onSwipeHorizontal,\n      zoom\n  }: CalendarBodyProps<any>) => {\n    const scrollView = React.useRef<ScrollView>(null)\n    const [now, setNow] = React.useState(dayjs())\n    const [panHandled, setPanHandled] = React.useState(false)\n    const [nowLayout, setNowLayout] = React.useState<LayoutRectangle>()\n    React.useEffect(() => {\n      if (scrollView.current && (scrollOffsetMinutes || scrollToNow)) {\n        // We add delay here to work correct on React Native\n        // see: https://stackoverflow.com/questions/33208477/react-native-android-scrollview-scrollto-not-working\n        setTimeout(\n          () => {\n            scrollView.current!.scrollTo({\n              y: scrollToNow ? nowLayout?.y : (cellHeight * scrollOffsetMinutes) / 60,\n              animated: false,\n            })\n          },\n          Platform.OS === 'web' ? 0 : 10,\n        )\n      }\n    }, [scrollView.current])\n\n    React.useEffect(() => {\n      const pid = setInterval(() => setNow(dayjs()), 2 * 60 * 1000)\n      return () => clearInterval(pid)\n    }, [])\n\n    const panResponder = React.useMemo(\n      () =>\n        PanResponder.create({\n          // see https://stackoverflow.com/questions/47568850/touchableopacity-with-parent-panresponder\n          onMoveShouldSetPanResponder: (_, { dx, dy }) => {\n            return dx > 2 || dx < -2 || dy > 2 || dy < -2\n          },\n          onPanResponderMove: (_, { dy, dx }) => {\n            if (dy < -1 * SWIPE_THRESHOLD || SWIPE_THRESHOLD < dy || panHandled) {\n              return\n            }\n            if (dx < -1 * SWIPE_THRESHOLD) {\n              onSwipeHorizontal && onSwipeHorizontal('LEFT')\n              setPanHandled(true)\n              return\n            }\n            if (dx > SWIPE_THRESHOLD) {\n              onSwipeHorizontal && onSwipeHorizontal('RIGHT')\n              setPanHandled(true)\n              return\n            }\n          },\n          onPanResponderEnd: () => {\n            setPanHandled(false)\n          },\n        }),\n      [panHandled, onSwipeHorizontal],\n    )\n\n    const _onPressCell = React.useCallback(\n      (date: dayjs.Dayjs) => {\n        onPressCell && onPressCell(date.toDate())\n      },\n      [onPressCell],\n    )\n\n    return (\n      <>\n        <ScrollView\n          style={[\n            {\n              height: containerHeight - cellHeight * 3,\n            },\n            style,\n          ]}\n          ref={scrollView}\n          scrollEventThrottle={32}\n          {...(Platform.OS !== 'web' ? panResponder.panHandlers : {})}\n          showsVerticalScrollIndicator={false}\n        >\n          <View style={[styles.body]} {...(Platform.OS === 'web' ? panResponder.panHandlers : {})}>\n            <View style={[commonStyles.hourGuide]}>\n              {hours.map((hour) => (\n                <HourGuideColumn key={hour} cellHeight={cellHeight} hour={hour} zoom={zoom} />\n              ))}\n            </View>\n            {dateRange.map((date) => (\n              <View style={[{ flex: 1 }]} key={date.toString()}>\n                {hours.map((hour) => (\n                  <HourCell\n                    key={hour}\n                    cellHeight={cellHeight}\n                    date={date}\n                    hour={hour}\n                    zoom={zoom}\n                    onPress={_onPressCell}\n                  />\n                ))}\n                {dayJsConvertedEvents\n                  .filter(\n                    ({ start, end }) =>\n                      start.isAfter(date.startOf('day')) && end.isBefore(date.endOf('day')),\n                  )\n                  .map((event) => (\n                    <CalendarEvent\n                      key={event.start.toString()}\n                      event={event}\n                      onPressEvent={onPressEvent}\n                      eventCellStyle={eventCellStyle}\n                      showTime={showTime}\n                    />\n                  ))}\n                {isToday(date) && (\n                  <View\n                    style={[styles.nowIndicator, { top: `${getRelativeTopInDay(now)}%` }]}\n                    onLayout={(event) => {\n                      setNowLayout(event?.nativeEvent?.layout)\n                    }}\n                  />\n                )}\n              </View>\n            ))}\n          </View>\n        </ScrollView>\n      </>\n    )\n  },\n)\n\nconst styles = StyleSheet.create({\n  body: {\n    flexDirection: 'row',\n    flex: 1,\n  },\n  nowIndicator: {\n    position: 'absolute',\n    zIndex: 10000,\n    backgroundColor: 'red',\n    height: 2,\n    width: '100%',\n  },\n})\n","import dayjs from 'dayjs'\nimport * as React from 'react'\nimport { StyleSheet, Text, TouchableOpacity, View, ViewStyle } from 'react-native'\nimport { commonStyles, PRIMARY_COLOR } from './commonStyles'\nimport { Event } from './interfaces'\nimport { isToday } from './utils'\n\ninterface CalendarHeaderProps<T> {\n  dateRange: dayjs.Dayjs[]\n  cellHeight: number\n  style: ViewStyle\n  allDayEvents: Event<T>[]\n  onPressDateHeader?: (date: Date) => void\n}\n\nexport const CalendarHeader = React.memo(\n  ({\n    dateRange,\n    cellHeight,\n    style = {},\n    allDayEvents,\n    onPressDateHeader,\n  }: CalendarHeaderProps<any>) => {\n    const _onPress = React.useCallback(\n      (date: Date) => {\n        onPressDateHeader && onPressDateHeader(date)\n      },\n      [onPressDateHeader],\n    )\n\n    return (\n      <View style={[styles.container, style]}>\n        <View style={[commonStyles.hourGuide, styles.hourGuideSpacer]} />\n        {dateRange.map((date) => {\n          const _isToday = isToday(date)\n          return (\n            <TouchableOpacity\n              style={{ flex: 1, paddingTop: 2 }}\n              onPress={() => _onPress(date.toDate())}\n              disabled={onPressDateHeader === undefined}\n              key={date.toString()}\n            >\n              <View style={{ height: cellHeight, justifyContent: 'space-between' }}>\n                <Text style={[commonStyles.guideText, _isToday && { color: PRIMARY_COLOR }]}>\n                  {date.format('ddd')}\n                </Text>\n                <View style={_isToday && styles.todayWrap}>\n                  <Text style={[styles.dateText, _isToday && { color: '#fff' }]}>\n                    {date.format('D')}\n                  </Text>\n                </View>\n              </View>\n              <View style={[commonStyles.dateCell, { height: cellHeight }]}>\n                {allDayEvents.map((event) => {\n                  if (!event.start.isSame(date, 'day')) {\n                    return null\n                  }\n                  return (\n                    <View style={commonStyles.eventCell}>\n                      <Text style={commonStyles.eventTitle}>{event.title}</Text>\n                    </View>\n                  )\n                })}\n              </View>\n            </TouchableOpacity>\n          )\n        })}\n      </View>\n    )\n  },\n)\n\nconst styles = StyleSheet.create({\n  container: {\n    flexDirection: 'row',\n    borderBottomColor: '#eee',\n    borderBottomWidth: 1,\n  },\n  dateText: {\n    color: '#444',\n    fontSize: 22,\n    textAlign: 'center',\n    marginTop: 6,\n  },\n  todayWrap: {\n    backgroundColor: PRIMARY_COLOR,\n    width: 36,\n    height: 36,\n    borderRadius: 50,\n    marginTop: 6,\n    paddingBottom: 4,\n    justifyContent: 'center',\n    alignItems: 'center',\n    alignSelf: 'center',\n  },\n  hourGuideSpacer: {\n    borderBottomColor: '#eee',\n    borderBottomWidth: 1,\n  },\n})\n","import dayjs from 'dayjs'\nimport * as React from 'react'\nimport { ViewStyle } from 'react-native'\nimport { CalendarBody } from './CalendarBody'\nimport { CalendarHeader } from './CalendarHeader'\nimport { MIN_HEIGHT } from './commonStyles'\nimport {\n  DateRangeHandler,\n  Event,\n  EventCellStyle,\n  HorizontalDirection,\n  Mode,\n  WeekNum,\n} from './interfaces'\nimport { getDatesInNextThreeDays, getDatesInWeek, isAllDayEvent, modeToNum } from './utils'\n\ninterface CalendarProps<T = {}> {\n  events: Event<T>[]\n  height: number\n  mode?: Mode\n  style?: ViewStyle\n  eventCellStyle?: EventCellStyle<T>\n  scrollOffsetMinutes?: number\n  date?: Date\n  swipeEnabled?: boolean\n  showTime?: boolean\n  weekStartsOn?: WeekNum\n  locale?: string\n  onChangeDate?: DateRangeHandler\n  onPressEvent?: (event: Event<T>) => void\n  onPressDateHeader?: (date: Date) => void\n  onPressCell?: (date: Date) => void\n  overwriteCellHeight?: number | undefined\n  scrollToNow?: boolean | undefined\n    zoom?:number\n}\n\nexport const Calendar = React.memo(\n  ({\n    events,\n    style = {},\n    height,\n    mode = 'week',\n    locale = 'en',\n    eventCellStyle,\n    date,\n    scrollOffsetMinutes = 0,\n    swipeEnabled = true,\n    weekStartsOn = 0,\n    showTime = true,\n    onPressEvent,\n    scrollToNow = false,\n    onPressDateHeader,\n    onChangeDate,\n    onPressCell,\n      zoom\n  }: CalendarProps) => {\n    const [targetDate, setTargetDate] = React.useState(dayjs(date))\n\n    React.useEffect(() => {\n      if (date) {\n        setTargetDate(dayjs(date))\n      }\n    }, [date])\n\n    const dayJsConvertedEvents = React.useMemo(\n      () => events.map((e) => ({ ...e, start: dayjs(e.start), end: dayjs(e.end) })),\n      [events],\n    )\n\n    const allDayEvents = React.useMemo(() => dayJsConvertedEvents.filter(isAllDayEvent), [\n      dayJsConvertedEvents,\n    ])\n\n    const daytimeEvents = React.useMemo(\n      () => dayJsConvertedEvents.filter((x) => !isAllDayEvent(x)),\n      [dayJsConvertedEvents],\n    )\n\n    const dateRange = React.useMemo(() => {\n      switch (mode) {\n        case '3days':\n          return getDatesInNextThreeDays(targetDate, locale)\n        case 'week':\n          return getDatesInWeek(targetDate, weekStartsOn, locale)\n        default:\n          throw new Error('undefined mode')\n      }\n    }, [mode, targetDate])\n\n    React.useEffect(() => {\n      if (onChangeDate) {\n        onChangeDate([dateRange[0].toDate(), dateRange.slice(-1)[0].toDate()])\n      }\n    }, [dateRange, onChangeDate])\n\n    const cellHeight = React.useMemo(() => Math.max(height - 30, MIN_HEIGHT) / 24, [height])\n\n    const onSwipeHorizontal = React.useCallback(\n      (direction: HorizontalDirection) => {\n        if (!swipeEnabled) {\n          return\n        }\n        if (direction === 'LEFT') {\n          setTargetDate(targetDate.add(modeToNum(mode), 'day'))\n        } else {\n          setTargetDate(targetDate.add(modeToNum(mode) * -1, 'day'))\n        }\n      },\n      [swipeEnabled, targetDate],\n    )\n\n    const commonProps = {\n      cellHeight,\n      dateRange,\n      style,\n    }\n\n    return (\n      <>\n        <CalendarHeader\n          {...commonProps}\n          allDayEvents={allDayEvents}\n          onPressDateHeader={onPressDateHeader}\n        />\n        <CalendarBody\n          scrollToNow={scrollToNow}\n          {...commonProps}\n          zoom={zoom}\n          dayJsConvertedEvents={daytimeEvents}\n          containerHeight={height}\n          onPressEvent={onPressEvent}\n          onPressCell={onPressCell}\n          eventCellStyle={eventCellStyle}\n          scrollOffsetMinutes={scrollOffsetMinutes}\n          showTime={showTime}\n          onSwipeHorizontal={onSwipeHorizontal}\n        />\n      </>\n    )\n  },\n)\n"],"names":["StyleSheet","React.memo","React.useMemo","React.useCallback","React.createElement","TouchableOpacity","Text","View","TouchableWithoutFeedback","React.useRef","React.useEffect","Platform","PanResponder","ScrollView","styles"],"mappings":"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"}